import asyncio
from pyppeteer import launch

async def html_to_pdf(input_html, output_pdf):
    # Launch a headless browser
    browser = await launch()
    page = await browser.newPage()
    
    # Load the HTML content
    with open(input_html, 'r') as file:
        html_content = file.read()
    await page.setContent(html_content, waitUntil='load')

    # Configure the PDF options to avoid cutoff
    pdf_options = {
        'format': 'A4',  # Set the paper size
        'margin': {
            'top': '0.25in',
            'right': '0.25in',
            'bottom': '0.25in',
            'left': '0.25in',
        },
        'printBackground': True,
    }

    # Generate the PDF
    await page.pdf(path=output_pdf, options=pdf_options)

    # Close the browser
    await browser.close()

# Run the conversion
input_html = 'your_file.html'  # Replace with the path to your HTML file
output_pdf = 'output.pdf'
asyncio.run(html_to_pdf(input_html, output_pdf))
